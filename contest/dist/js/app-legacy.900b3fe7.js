(function(t){function e(e){for(var r,i,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},o={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4721:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("4160"),n("d3b7"),n("ac1f"),n("5319"),n("1276"),n("159b"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("a026"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},a=[],i=n("2877"),s={},c=Object(i["a"])(s,o,a,!1,null,null,null),u=c.exports,l=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Notes")},f=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[t._l(t.notesList,(function(e,r){return n("NoteInstance",{key:"item"+r,attrs:{index:r,item:e},on:{edit:t.edit}})})),n("aside",{staticClass:"add-button"},[n("BaseButton",{nativeOn:{click:function(e){return t.edit(t.notesList?t.notesList.length:0)}}},[t._v(" Добавить запись ")])],1)],2)},m=[],v=n("5530"),h=n("2f62"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"instance"},[n("h2",[t._v(t._s(t.index+1)+" "+t._s(t.item.heading))]),n("ul",[t._l(t.item.list,(function(e,r){return[r<2?n("li",{key:r},[t._v(" "+t._s(e.text)+" ")]):t._e()]}))],2),n("BaseButton",{nativeOn:{click:function(e){return t.$emit("edit",t.index)}}},[t._v(" Редактировать запись ")]),n("BaseButton",{nativeOn:{click:function(e){return t.modal(e)}}},[t._v(" Удалить запись ")]),n("BaseModal",{attrs:{show:t.show},scopedSlots:t._u([{key:"header",fn:function(){return[n("h1",[t._v("Действительно удалить запись?")])]},proxy:!0}])},[n("BaseButton",{nativeOn:{click:function(e){t.removeNoteInstance(t.index).then((function(){t.modal()}))}}},[t._v(" Да ")]),n("BaseButton",{nativeOn:{click:function(e){return t.modal(e)}}},[t._v(" Нет ")])],1)],1)])},O=[],x=(n("a9e3"),{name:"NoteInstance",props:{index:{type:Number,required:!0,default:0},item:{type:Object,required:!0,default:function(){return{}}}},data:function(){return{show:!1}},methods:Object(v["a"])(Object(v["a"])({},Object(h["b"])(["removeNoteInstance"])),{},{modal:function(){this.show=!this.show}})}),_=x,g=(n("bfde"),Object(i["a"])(_,b,O,!1,null,"ecca2ba0",null)),j=g.exports,w={name:"HelloWorld",components:{NoteInstance:j},computed:Object(v["a"])({},Object(h["d"])(["notesList"])),methods:{edit:function(t){this.$router.push("/note/".concat(t))}}},y=w,N=(n("bec8"),Object(i["a"])(y,p,m,!1,null,"42b7a734",null)),E=N.exports,I={name:"TheNotesList",components:{Notes:E}},T=I,k=Object(i["a"])(T,d,f,!1,null,null,null),S=k.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("NoteEditor",{attrs:{"note-index":Number(t.noteIndex)}})},C=[],R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(e){return e.preventDefault(),t.setItem(t.noteIndex)}}},[n("label",[t._v(" Заголовок "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.itemHeading,expression:"itemHeading"}],attrs:{type:"text"},domProps:{value:t.itemHeading},on:{input:function(e){e.target.composing||(t.itemHeading=e.target.value)}}})]),n("label",[t._v(" Новый пункт "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.itemText,expression:"itemText"}],attrs:{type:"text"},domProps:{value:t.itemText},on:{input:function(e){e.target.composing||(t.itemText=e.target.value)}}})]),n("button",{attrs:{type:"button"},on:{click:t.addItem}},[t._v(" Добавить ")]),n("Preview",{attrs:{list:t.list}}),n("BaseButton",{attrs:{type:"submit"}},[t._v(" Сохранить ")]),n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){return t.restoreModal(e)}}},[t._v(" Отменить ")]),n("BaseModal",{attrs:{show:t.showRestore},scopedSlots:t._u([{key:"header",fn:function(){return[n("h1",[t._v("Действительно удалить запись?")])]},proxy:!0}])},[n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){return function(){t.restoreChanges(t.noteIndex),t.restoreModal()}()}}},[t._v(" Да ")]),n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){return t.restoreModal(e)}}},[t._v(" Нет ")])],1),n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){return t.modal(e)}}},[t._v(" Удалить ")]),n("BaseModal",{attrs:{show:t.show},scopedSlots:t._u([{key:"header",fn:function(){return[n("h1",[t._v("Действительно удалить запись?")])]},proxy:!0}])},[n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){t.removeNote(t.noteIndex),t.modal}}},[t._v(" Да ")]),n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){return t.modal(e)}}},[t._v(" Нет ")])],1),n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){return t.UNDO_ACTION(e)}}},[t._v(" Назад ")]),n("BaseButton",{attrs:{type:"button"},nativeOn:{click:function(e){return t.REDO_ACTION(e)}}},[t._v(" Вперед ")])],1)},L=[],M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preview"},t._l(t.list,(function(t,e){return n("LabelItem",{key:e,attrs:{item:t,index:e}})})),1)},P=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item-wrapper"},[n("label",[n("span",{staticClass:"text-editable",on:{click:function(e){return e.preventDefault(),t.editText(e)}}},[t._v(t._s(t.item.text))]),n("input",{attrs:{type:"checkbox"},domProps:{checked:t.item.checked},on:{change:function(e){return t.SET_CHECKED(t.index)}}}),n("button",{staticClass:"remove-item",attrs:{type:"button"},on:{click:function(e){return t.removeItem(t.index,e)}}},[t._v("x")])]),t.edit?n("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"item-text",attrs:{type:"text"},domProps:{value:t.text},on:{blur:function(e){return t.setText(t.index)},input:function(e){e.target.composing||(t.text=e.target.value)}}}):t._e()])},D=[],q="SET_NOTE_INSTANCE",H="REMOVE_NOTE_INSTANCE",A="SET_TEXT",J="SET_LIST",U="REMOVE_ITEM",X="SET_EXISTING_LIST",G="RESTORE_LIST",K="UNDO_ACTION",V="REDO_ACTION",F="SET_CHECKED",W="SET_ITEM_TEXT",z="SET_HEADING",Q={name:"Preview",props:{item:{type:Object,required:!0,default:function(){return{}}},index:{type:Number,required:!0,default:0}},data:function(){return{edit:!1,text:this.item.text||""}},methods:Object(v["a"])(Object(v["a"])({},Object(h["c"])("items",[U,F,W])),{},{removeItem:function(t,e){this[U](t)},editText:function(){this.edit=!this.edit},setText:function(t){this[W]({index:t,text:this.text}),this.edit=!this.edit}})},Y=Q,Z=(n("5d13"),Object(i["a"])(Y,$,D,!1,null,"0dd885ba",null)),tt=Z.exports,et={name:"Preview",components:{LabelItem:tt},props:{list:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{edit:!1}},methods:Object(v["a"])(Object(v["a"])({},Object(h["c"])("items",[U,F])),{},{removeItem:function(t,e){this[U](t)},editText:function(){this.edit=!this.edit}})},nt=et,rt=(n("e097"),Object(i["a"])(nt,M,P,!1,null,"398c8129",null)),ot=rt.exports,at=function(t,e){return{get:function(){return this[t]},set:function(t){this[e](t)}}},it={name:"NoteEditor",components:{Preview:ot},props:{noteIndex:{type:Number,required:!0,default:NaN}},data:function(){return{show:!1,showRestore:!1}},computed:Object(v["a"])(Object(v["a"])({},Object(h["d"])("items",["text","list","heading"])),{},{itemText:at("text",A),itemHeading:at("heading",z)}),created:function(){this.setExistingList(this.noteIndex)},methods:Object(v["a"])(Object(v["a"])(Object(v["a"])({},Object(h["b"])("items",["setItem","removeNote","setExistingList","restoreChanges"])),Object(h["c"])("items",[A,J,G,K,V,z])),{},{addItem:function(){this[J]()},modal:function(){this.show=!this.show},restoreModal:function(){this.showRestore=!this.showRestore}})},st=it,ct=Object(i["a"])(st,R,L,!1,null,"601741c2",null),ut=ct.exports,lt={name:"TheNote",components:{NoteEditor:ut},props:{noteIndex:{type:String,required:!0,default:""}}},dt=lt,ft=Object(i["a"])(dt,B,C,!1,null,"525c0bf6",null),pt=ft.exports;r["a"].use(l["a"]);var mt,vt,ht=[{path:"/",name:"TheNotesList",component:S},{path:"/note/:noteIndex",name:"TheNote",component:pt,props:!0}],bt=new l["a"]({routes:ht}),Ot=bt,xt=(n("4de4"),n("a434"),n("96cf"),n("1da1")),_t=n("ade3"),gt=n("2909"),jt=n("3835"),wt=function(){return{list:[],text:"",heading:"",undoCache:[],redoCache:[]}},yt={},Nt=(mt={},Object(_t["a"])(mt,A,(function(t,e){t.text=e})),Object(_t["a"])(mt,z,(function(t,e){t.heading=e})),Object(_t["a"])(mt,J,(function(t){t.undoCache=Object(gt["a"])(t.list),t.list.push({text:t.text,checked:!1}),t.redoCache=Object(gt["a"])(t.list)})),Object(_t["a"])(mt,K,(function(t){t.list=Object(gt["a"])(t.undoCache)})),Object(_t["a"])(mt,V,(function(t){t.list=Object(gt["a"])(t.redoCache)})),Object(_t["a"])(mt,X,(function(t,e){t.list=e})),Object(_t["a"])(mt,G,(function(t,e){t.list=e})),Object(_t["a"])(mt,U,(function(t,e){var n=Object(gt["a"])(t.list),r=n.filter((function(t){return t!==n[e]}));t.list=r})),Object(_t["a"])(mt,F,(function(t,e){t.list[e].checked=!0})),Object(_t["a"])(mt,W,(function(t,e){var n=e.index,r=e.text;t.list[n].text=r})),mt),Et={setItem:function(t,e){return Object(xt["a"])(regeneratorRuntime.mark((function n(){var r,o,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.dispatch,o=t.commit,a=t.state,n.next=3,r("setNoteInstance",[{list:a.list,heading:a.heading},e],{root:!0});case 3:o(X,[]),o(A,"");case 5:case"end":return n.stop()}}),n)})))()},removeNote:function(t,e){return Object(xt["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.dispatch,o=t.commit,n.next=3,r("removeNoteInstance",e,{root:!0});case 3:o(X,[]),o(A,""),Ot.push("/");case 6:case"end":return n.stop()}}),n)})))()},setExistingList:function(t,e){return Object(xt["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,n.prev=1,n.next=4,JSON.parse(localStorage.getItem("notes-list"));case 4:o=n.sent,o&&o[e].list&&r(X,o[e].list),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()},restoreChanges:function(t,e){return Object(xt["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,n.prev=1,n.next=4,JSON.parse(localStorage.getItem("notes-list"));case 4:o=n.sent,r(G,o[e].list),n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](1),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},It={namespaced:!0,state:wt,getters:yt,mutations:Nt,actions:Et};r["a"].use(h["a"]);var Tt=new h["a"].Store({state:{notesList:JSON.parse(localStorage.getItem("notes-list"))||[]},mutations:(vt={},Object(_t["a"])(vt,q,(function(t,e){var n=Object(jt["a"])(e,2),r=n[0],o=n[1];t.notesList.splice(o,1,r)})),Object(_t["a"])(vt,H,(function(t,e){var n=Object(gt["a"])(t.notesList),r=n.filter((function(t){return t!==n[e]}));t.notesList=r})),vt),actions:{setNoteInstance:function(t,e){return Object(xt["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.state,n.prev=1,console.log(e),r(q,e),n.next=6,localStorage.setItem("notes-list",JSON.stringify(o.notesList));case 6:"/"!==Ot.currentRoute&&Ot.push("/"),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](1),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[1,9]])})))()},removeNoteInstance:function(t,e){return Object(xt["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t.commit,o=t.state,n.prev=1,r(H,e),n.next=5,localStorage.setItem("notes-list",JSON.stringify(o.notesList));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](1),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[1,7]])})))()}},modules:{items:It}}),kt=n("8103"),St=n.n(kt),Bt=n("bba4"),Ct=n.n(Bt),Rt=(n("f5df1"),n("ef13"));Rt.keys().forEach((function(t){var e=Rt(t),n=St()(Ct()(t.split("/").pop().replace(/\.\w+$/,"")));r["a"].component(n,e.default||e)})),r["a"].config.productionTip=!1;var Lt=localStorage.getItem("notes-list");Lt||localStorage.setItem("notes-list",JSON.stringify([])),new r["a"]({router:Ot,store:Tt,render:function(t){return t(u)}}).$mount("#app")},"5d13":function(t,e,n){"use strict";var r=n("e84d"),o=n.n(r);o.a},6043:function(t,e,n){"use strict";var r=n("6121"),o=n.n(r);o.a},6121:function(t,e,n){},"807e":function(t,e,n){"use strict";var r=n("dc83"),o=n.n(r);o.a},"82ea":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"button",attrs:{type:t.type}},[t._t("default")],2)},o=[],a={name:"BaseButton",props:{type:{type:String,required:!1,default:""}}},i=a,s=(n("6043"),n("2877")),c=Object(s["a"])(i,r,o,!1,null,"72c5728c",null);e["default"]=c.exports},"8fae":function(t,e,n){},bec8:function(t,e,n){"use strict";var r=n("ed34"),o=n.n(r);o.a},bfde:function(t,e,n){"use strict";var r=n("4721"),o=n.n(r);o.a},c1ec:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"backdrop"},[n("div",{staticClass:"modal"},[n("div",{staticClass:"modal__header"},[t._t("header")],2),n("div",{staticClass:"modal__main"},[t._t("default")],2),n("div",{staticClass:"moadal__footer"},[t._t("footer")],2)])]):t._e()},o=[],a={name:"BaseModal",props:{show:{type:Boolean,required:!1}}},i=a,s=(n("807e"),n("2877")),c=Object(s["a"])(i,r,o,!1,null,"dcfe9756",null);e["default"]=c.exports},dc83:function(t,e,n){},e097:function(t,e,n){"use strict";var r=n("8fae"),o=n.n(r);o.a},e84d:function(t,e,n){},ed34:function(t,e,n){},ef13:function(t,e,n){var r={"./BaseButton.vue":"82ea","./BaseModal.vue":"c1ec"};function o(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=a,t.exports=o,o.id="ef13"}});
//# sourceMappingURL=app-legacy.900b3fe7.js.map